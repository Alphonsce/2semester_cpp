Компиляция состоит из 3 основных этапов:

## Препроцессинг

Он перевод в cpp заменив все директивы препроцессора на текст 1в1, надо быть аккуратнее с последовательностью действий поэтому, дерективы препроцессора пишутся с #

То есть: 
```cpp
#define sum(a, b) a + b

int main {

    std::cout << sum(2, 3); // -> 5
    return 0;  
}
```

пример так называемой макросной замены, которая при первом этапе компиляции - препроцессинге будет заменена на код

Всякие include, ifndef, define, endif это все директивы препроцессора.

## Трансляция.

Перевод из .cpp в .a

Переводим в машинный код, но еще не билдим.

При трансляции происходит name mangling - запутывание имен на языке машинного кода, причем это никак не фиксировано в стандартах, 
что порой может быть проблемой.

Разные компиляторы и даже разные версии одного компиллятора по разному путают имена в машинном коде.

Можно транслировать файлы без функции main, если создавать библиотеку.

## Компановка.

Она как раз занимается вроде бы подстановкой функций.

## Директива препроцессора #include

include используется для вставки предварительных деклараций, которые принято делать .hpp или .h

define, ifndef, endif или pragma once юзают для того чтобы не было cycle reference.